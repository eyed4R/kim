<launch>
  <arg name="rviz" default="false" />
  
  <!-- Запуск симулятора -->
  <include file="$(find study_pkg)/launch/turtlebot3_world.launch">
    <arg name="model" value="waffle_pi"/>
  </include>

  <!-- Публикация TF робота -->
  <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher">
    <param name="publish_frequency" type="double" value="50.0" />
  </node>

  <!-- Управляемый запуск Rviz -->
  <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz" 
        args="-d $(find study_pkg)/rviz/sim_initial.rviz" />
</launch>
