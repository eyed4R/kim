<launch>
  <arg name="rviz" default="false" />
  
  <!-- Включаем базовый запуск симулятора -->
  <include file="$(find study_pkg)/launch/turtlebot3_sim_start.launch">
    <arg name="rviz" value="false"/> <!-- Отключаем старый Rviz -->
  </include>
  
  <!-- Запускаем gmapping -->
  <include file="$(find study_pkg)/launch/turtlebot3_my_gmapping.launch" />
  
  <!-- Запускаем Rviz с конфигурацией для mapping -->
  <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz" 
        args="-d $(find study_pkg)/rviz/sim_mapping.rviz" />
</launch>
